{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "mdx-docs",
  "type": "registry:item",
  "title": "Mdx Docs",
  "description": "Mdx doc support.",
  "dependencies": [
    "fumadocs-core",
    "fumadocs-mdx"
  ],
  "devDependencies": [
    "@types/mdx"
  ],
  "registryDependencies": [
    "button",
    "sidebar",
    "https://choto-bricks.vercel.app/r/article.json",
    "https://choto-bricks.vercel.app/r/tooltip.json"
  ],
  "files": [
    {
      "path": "src/registry/bricks/mdx-docs/components/docs.tsx",
      "content": "\"use client\";\n\nimport type * as PageTree from \"fumadocs-core/page-tree\";\nimport Link from \"next/link\";\nimport React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Sidebar,\n  SidebarContent,\n  SidebarGroup,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarProvider,\n  SidebarTrigger,\n  useSidebar,\n} from \"@/components/ui/sidebar\";\nimport { cn } from \"@/lib/utils\";\nimport * as Tooltip from \"@/registry/bricks/components/tooltip\";\n\ntype GroupedMenu = PageTree.Node & {\n  pages: PageTree.Item[];\n};\nfunction groupMenuBySeparetor(menu: PageTree.Node[]): GroupedMenu[] {\n  const result: GroupedMenu[] = [];\n  let currentGroup: GroupedMenu | null = null;\n\n  for (const item of menu) {\n    if (item.type === \"separator\") {\n      currentGroup = { ...item, pages: [] };\n      result.push(currentGroup);\n    } else if (item.type === \"page\" && currentGroup) {\n      currentGroup.pages.push(item);\n    }\n  }\n\n  return result;\n}\n\nconst Icon = {\n  SidebarFill: (props: React.SVGProps<SVGSVGElement>) => (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={24}\n      height={24}\n      viewBox=\"0 0 24 24\"\n      fill=\"currentColor\"\n      {...props}\n    >\n      <title>Sidebar Fill</title>\n      <path d=\"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM9 5V19H20V5H9Z\"></path>\n    </svg>\n  ),\n  SidebarLine: (props: React.SVGProps<SVGSVGElement>) => (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={24}\n      height={24}\n      viewBox=\"0 0 24 24\"\n      fill=\"currentColor\"\n      {...props}\n    >\n      <title>Sidebar Line</title>\n      <path d=\"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM8 5H4V19H8V5ZM10 5V19H20V5H10Z\"></path>\n    </svg>\n  ),\n};\n\ntype TDocsLayoutContext = unknown;\nconst DocsLayoutContext = React.createContext<TDocsLayoutContext | null>(null);\n\ntype DocsRootProps = { children: React.ReactNode };\nfunction DocsRoot(props: DocsRootProps) {\n  return (\n    <DocsLayoutContext value={{}}>\n      <SidebarProvider>{props.children}</SidebarProvider>\n    </DocsLayoutContext>\n  );\n}\n\ntype DocsSidebarProps = React.ComponentPropsWithRef<\"div\"> & {\n  side?: \"left\" | \"right\";\n  variant?: \"sidebar\" | \"floating\" | \"inset\";\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\";\n};\nfunction DocsSidebar({ ...props }: DocsSidebarProps) {\n  return <Sidebar {...props} />;\n}\n\ntype DocsSidebarHeaderProps = React.ComponentPropsWithRef<\"div\">;\nfunction DocsSidebarHeader(props: DocsSidebarHeaderProps) {\n  return <SidebarHeader {...props} className={cn(\"px-4\", props.className)} />;\n}\n\ntype DocsSidebarContentProps = {\n  menu: PageTree.Root;\n};\nfunction DocsSidebarContent(props: DocsSidebarContentProps) {\n  const menu = groupMenuBySeparetor(props.menu.children);\n\n  return (\n    <SidebarContent>\n      {menu.map((group) => (\n        <SidebarGroup key={group.$id}>\n          <SidebarGroupLabel>{group.name}</SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {group.pages.map((page) => (\n                <SidebarMenuItem key={page.$id}>\n                  <SidebarMenuButton asChild>\n                    <Link href={page.url} className=\"font-semibold\">\n                      {page.name}\n                    </Link>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n      ))}\n    </SidebarContent>\n  );\n}\n\nfunction DocsSidebarTrigger() {\n  return <SidebarTrigger className=\"cursor-pointer\" />;\n}\n\nfunction DocsSidebarCloseButton() {\n  const { state, setOpen, setOpenMobile } = useSidebar();\n\n  return (\n    <Tooltip.Root>\n      <Tooltip.Trigger asChild>\n        <Button\n          variant={\"ghost\"}\n          size={\"icon\"}\n          className=\"cursor-pointer\"\n          onClick={() => {\n            if (state === \"expanded\") {\n              setOpen(false);\n              setOpenMobile(false);\n            }\n          }}\n        >\n          <Icon.SidebarLine />\n          <span className=\"sr-only\">Close Sidebar</span>\n        </Button>\n      </Tooltip.Trigger>\n\n      <Tooltip.Content variant={\"outline\"} sideOffset={2} noArrow>\n        <p>Close Sidebar</p>\n      </Tooltip.Content>\n    </Tooltip.Root>\n  );\n}\n\nfunction DocsSidebarOpenButton() {\n  const { state, setOpen, setOpenMobile } = useSidebar();\n\n  return (\n    <Tooltip.Root>\n      <Tooltip.Trigger asChild>\n        <Button\n          variant={\"ghost\"}\n          size={\"icon\"}\n          className=\"cursor-pointer\"\n          onClick={() => {\n            if (state === \"collapsed\") {\n              setOpen(true);\n              setOpenMobile(true);\n            }\n          }}\n        >\n          <Icon.SidebarFill />\n          <span className=\"sr-only\">Open Sidebar</span>\n        </Button>\n      </Tooltip.Trigger>\n\n      <Tooltip.Content variant={\"outline\"} sideOffset={2} noArrow>\n        <p>Open Sidebar</p>\n      </Tooltip.Content>\n    </Tooltip.Root>\n  );\n}\n\nexport {\n  DocsRoot as Root,\n  DocsSidebar as Sidebar,\n  DocsSidebarHeader as SidebarHeader,\n  DocsSidebarContent as SidebarContent,\n  DocsSidebarTrigger as SidebarTrigger,\n  DocsSidebarCloseButton as SidebarCloseButton,\n  DocsSidebarOpenButton as SidebarOpenButton,\n};\n",
      "type": "registry:component",
      "target": "components/bricks/mdx-docs/docs.tsx"
    },
    {
      "path": "src/registry/bricks/mdx-docs/components/mdx-components.tsx",
      "content": "import type { MDXComponents } from \"mdx/types\";\nimport Image, { type ImageProps } from \"next/image\";\nimport { cn } from \"@/lib/utils\";\nimport * as Article from \"@/registry/bricks/components/article\";\n\n/**\n * TODOs:\n * 1. create mdx related component.\n *    - codeblocks\n *    - callouts\n *    - layout component\n * 2. recreate all the \"defaultMdxComponents\" from fumadocs.\n */\n\nconst defaultMdxComponents: MDXComponents = {\n  a: Article.Link,\n  blockquote: Article.Blockquote,\n  Br: Article.Br,\n  del: Article.Strike,\n  em: Article.Italic,\n  h1: Article.Title,\n  h2: (props: React.HTMLAttributes<HTMLHeadingElement>) => (\n    <Article.Heading headingLevel=\"level-1\" {...props} />\n  ),\n  h3: (props: React.HTMLAttributes<HTMLHeadingElement>) => (\n    <Article.Heading headingLevel=\"level-2\" {...props} />\n  ),\n  h4: (props: React.HTMLAttributes<HTMLHeadingElement>) => (\n    <Article.Heading headingLevel=\"level-3\" {...props} />\n  ),\n  h5: (props: React.HTMLAttributes<HTMLHeadingElement>) => (\n    <Article.Heading headingLevel=\"level-4\" {...props} />\n  ),\n  h6: (props: React.HTMLAttributes<HTMLHeadingElement>) => (\n    <Article.Heading headingLevel=\"level-5\" {...props} />\n  ),\n  Hr: Article.Hr,\n  img: (props: ImageProps) => <Image {...props} />,\n  input: Article.TaskCheckbox,\n  Kbd: Article.Kbd,\n  li: (props: React.HTMLAttributes<HTMLLIElement>) => {\n    if (props.className?.includes(\"task-list-item\")) {\n      return (\n        <Article.Li\n          {...props}\n          className={cn(\"flex items-center gap-2\", props.className)}\n        />\n      );\n    }\n    return <Article.Li {...props} />;\n  },\n  Mark: Article.Mark,\n  ol: Article.Ol,\n  p: Article.Paragraph,\n  strong: Article.Bold,\n  Sub: Article.Sub,\n  Sup: Article.Sup,\n  U: (props: React.HTMLAttributes<HTMLElement>) => (\n    <Article.Underline {...props} />\n  ),\n  ul: (props: React.HTMLAttributes<HTMLUListElement>) => {\n    if (props.className?.includes(\"contains-task-list\")) {\n      return <Article.Ul variant={\"task-list\"} {...props} />;\n    }\n    return <Article.Ul {...props} />;\n  },\n};\n\nexport function getMDXComponents(components?: MDXComponents): MDXComponents {\n  return {\n    ...defaultMdxComponents,\n    ...components,\n  };\n}\n",
      "type": "registry:component",
      "target": "components/bricks/mdx-docs/mdx-components.tsx"
    },
    {
      "path": "src/registry/bricks/mdx-docs/lib/search.ts",
      "content": "import { createFromSource } from \"fumadocs-core/search/server\";\nimport { source } from \"@/registry/bricks/mdx-docs/lib/source\";\n\nexport function docsSearch() {\n  return createFromSource(source.docs);\n}\n",
      "type": "registry:lib",
      "target": "lib/bricks/mdx-docs/search.ts"
    },
    {
      "path": "src/registry/bricks/mdx-docs/lib/source.config.ts",
      "content": "import {\n  defineConfig,\n  defineDocs,\n  frontmatterSchema,\n  metaSchema,\n} from \"fumadocs-mdx/config\";\n\nexport const docs = defineDocs({\n  dir: \"content/docs\",\n  docs: {\n    schema: frontmatterSchema,\n  },\n  meta: {\n    schema: metaSchema,\n  },\n});\n\nexport default defineConfig({\n  mdxOptions: {\n    // MDX options\n  },\n});\n",
      "type": "registry:lib",
      "target": "lib/bricks/mdx-docs/source.config.ts"
    },
    {
      "path": "src/registry/bricks/mdx-docs/lib/source.ts",
      "content": "import { loader } from \"fumadocs-core/source\";\nimport { lucideIconsPlugin } from \"fumadocs-core/source/lucide-icons\";\nimport { docs } from \"@/.source/server\";\n\nexport const source = {\n  docs: loader({\n    baseUrl: \"/docs\",\n    source: docs.toFumadocsSource(),\n    plugins: [lucideIconsPlugin()],\n  }),\n};\n",
      "type": "registry:lib",
      "target": "lib/bricks/mdx-docs/source.ts"
    }
  ]
}