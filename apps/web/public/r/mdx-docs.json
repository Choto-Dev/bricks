{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "mdx-docs",
  "type": "registry:item",
  "title": "Mdx Docs",
  "description": "Mdx doc support.",
  "dependencies": [
    "fumadocs-core",
    "fumadocs-mdx"
  ],
  "devDependencies": [
    "@types/mdx"
  ],
  "registryDependencies": [
    "button",
    "sidebar",
    "https://choto-bricks.vercel.app/r/article.json",
    "https://choto-bricks.vercel.app/r/tooltip.json"
  ],
  "files": [
    {
      "path": "src/registry/bricks/mdx-docs/components/docs.tsx",
      "content": "\"use client\";\r\n\r\nimport type * as PageTree from \"fumadocs-core/page-tree\";\r\nimport Link from \"next/link\";\r\nimport React from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Sidebar,\r\n  SidebarContent,\r\n  SidebarGroup,\r\n  SidebarGroupContent,\r\n  SidebarGroupLabel,\r\n  SidebarHeader,\r\n  SidebarMenu,\r\n  SidebarMenuButton,\r\n  SidebarMenuItem,\r\n  SidebarProvider,\r\n  SidebarTrigger,\r\n  useSidebar,\r\n} from \"@/components/ui/sidebar\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport * as Tooltip from \"@/registry/bricks/components/tooltip\";\r\n\r\ntype GroupedMenu = PageTree.Node & {\r\n  pages: PageTree.Item[];\r\n};\r\nfunction groupMenuBySeparetor(menu: PageTree.Node[]): GroupedMenu[] {\r\n  const result: GroupedMenu[] = [];\r\n  let currentGroup: GroupedMenu | null = null;\r\n\r\n  for (const item of menu) {\r\n    if (item.type === \"separator\") {\r\n      currentGroup = { ...item, pages: [] };\r\n      result.push(currentGroup);\r\n    } else if (item.type === \"page\" && currentGroup) {\r\n      currentGroup.pages.push(item);\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nconst Icon = {\r\n  SidebarFill: (props: React.SVGProps<SVGSVGElement>) => (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width={24}\r\n      height={24}\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"currentColor\"\r\n      {...props}\r\n    >\r\n      <title>Sidebar Fill</title>\r\n      <path d=\"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM9 5V19H20V5H9Z\"></path>\r\n    </svg>\r\n  ),\r\n  SidebarLine: (props: React.SVGProps<SVGSVGElement>) => (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width={24}\r\n      height={24}\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"currentColor\"\r\n      {...props}\r\n    >\r\n      <title>Sidebar Line</title>\r\n      <path d=\"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM8 5H4V19H8V5ZM10 5V19H20V5H10Z\"></path>\r\n    </svg>\r\n  ),\r\n};\r\n\r\ntype TDocsLayoutContext = unknown;\r\nconst DocsLayoutContext = React.createContext<TDocsLayoutContext | null>(null);\r\n\r\ntype DocsRootProps = { children: React.ReactNode };\r\nfunction DocsRoot(props: DocsRootProps) {\r\n  return (\r\n    <DocsLayoutContext value={{}}>\r\n      <SidebarProvider>{props.children}</SidebarProvider>\r\n    </DocsLayoutContext>\r\n  );\r\n}\r\n\r\ntype DocsSidebarProps = React.ComponentPropsWithRef<\"div\"> & {\r\n  side?: \"left\" | \"right\";\r\n  variant?: \"sidebar\" | \"floating\" | \"inset\";\r\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\";\r\n};\r\nfunction DocsSidebar({ ...props }: DocsSidebarProps) {\r\n  return <Sidebar {...props} />;\r\n}\r\n\r\ntype DocsSidebarHeaderProps = React.ComponentPropsWithRef<\"div\">;\r\nfunction DocsSidebarHeader(props: DocsSidebarHeaderProps) {\r\n  return <SidebarHeader {...props} className={cn(\"px-4\", props.className)} />;\r\n}\r\n\r\ntype DocsSidebarContentProps = {\r\n  menu: PageTree.Root;\r\n};\r\nfunction DocsSidebarContent(props: DocsSidebarContentProps) {\r\n  const menu = groupMenuBySeparetor(props.menu.children);\r\n\r\n  return (\r\n    <SidebarContent>\r\n      {menu.map((group) => (\r\n        <SidebarGroup key={group.$id}>\r\n          <SidebarGroupLabel>{group.name}</SidebarGroupLabel>\r\n          <SidebarGroupContent>\r\n            <SidebarMenu>\r\n              {group.pages.map((page) => (\r\n                <SidebarMenuItem key={page.$id}>\r\n                  <SidebarMenuButton asChild>\r\n                    <Link href={page.url} className=\"font-semibold\">\r\n                      {page.name}\r\n                    </Link>\r\n                  </SidebarMenuButton>\r\n                </SidebarMenuItem>\r\n              ))}\r\n            </SidebarMenu>\r\n          </SidebarGroupContent>\r\n        </SidebarGroup>\r\n      ))}\r\n    </SidebarContent>\r\n  );\r\n}\r\n\r\nfunction DocsSidebarTrigger() {\r\n  return <SidebarTrigger className=\"cursor-pointer\" />;\r\n}\r\n\r\nfunction DocsSidebarCloseButton() {\r\n  const { state, setOpen, setOpenMobile } = useSidebar();\r\n\r\n  return (\r\n    <Tooltip.Root>\r\n      <Tooltip.Trigger asChild>\r\n        <Button\r\n          variant={\"ghost\"}\r\n          size={\"icon\"}\r\n          className=\"cursor-pointer\"\r\n          onClick={() => {\r\n            if (state === \"expanded\") {\r\n              setOpen(false);\r\n              setOpenMobile(false);\r\n            }\r\n          }}\r\n        >\r\n          <Icon.SidebarLine />\r\n          <span className=\"sr-only\">Close Sidebar</span>\r\n        </Button>\r\n      </Tooltip.Trigger>\r\n\r\n      <Tooltip.Content variant={\"outline\"} sideOffset={2} noArrow>\r\n        <p>Close Sidebar</p>\r\n      </Tooltip.Content>\r\n    </Tooltip.Root>\r\n  );\r\n}\r\n\r\nfunction DocsSidebarOpenButton() {\r\n  const { state, setOpen, setOpenMobile } = useSidebar();\r\n\r\n  return (\r\n    <Tooltip.Root>\r\n      <Tooltip.Trigger asChild>\r\n        <Button\r\n          variant={\"ghost\"}\r\n          size={\"icon\"}\r\n          className=\"cursor-pointer\"\r\n          onClick={() => {\r\n            if (state === \"collapsed\") {\r\n              setOpen(true);\r\n              setOpenMobile(true);\r\n            }\r\n          }}\r\n        >\r\n          <Icon.SidebarFill />\r\n          <span className=\"sr-only\">Open Sidebar</span>\r\n        </Button>\r\n      </Tooltip.Trigger>\r\n\r\n      <Tooltip.Content variant={\"outline\"} sideOffset={2} noArrow>\r\n        <p>Open Sidebar</p>\r\n      </Tooltip.Content>\r\n    </Tooltip.Root>\r\n  );\r\n}\r\n\r\nexport {\r\n  DocsRoot as Root,\r\n  DocsSidebar as Sidebar,\r\n  DocsSidebarHeader as SidebarHeader,\r\n  DocsSidebarContent as SidebarContent,\r\n  DocsSidebarTrigger as SidebarTrigger,\r\n  DocsSidebarCloseButton as SidebarCloseButton,\r\n  DocsSidebarOpenButton as SidebarOpenButton,\r\n};\r\n",
      "type": "registry:component",
      "target": "components/bricks/mdx-docs/docs.tsx"
    },
    {
      "path": "src/registry/bricks/mdx-docs/components/mdx-components.tsx",
      "content": "import type { MDXComponents } from \"mdx/types\";\nimport Image, { type ImageProps } from \"next/image\";\nimport { cn } from \"@/lib/utils\";\nimport * as Article from \"@/registry/bricks/components/article\";\n\n/**\n * TODOs:\n * 1. create mdx related component.\n *    - codeblocks\n *    - callouts\n *    - layout component\n * 2. recreate all the \"defaultMdxComponents\" from fumadocs.\n */\n\nconst defaultMdxComponents: MDXComponents = {\n  blockquote: Article.Blockquote,\n  h1: Article.Title,\n  h2: (props: React.HTMLAttributes<HTMLHeadingElement>) => (\n    <Article.Heading headingLevel=\"level-1\" {...props} />\n  ),\n  h3: (props: React.HTMLAttributes<HTMLHeadingElement>) => (\n    <Article.Heading headingLevel=\"level-2\" {...props} />\n  ),\n  h4: (props: React.HTMLAttributes<HTMLHeadingElement>) => (\n    <Article.Heading headingLevel=\"level-3\" {...props} />\n  ),\n  h5: (props: React.HTMLAttributes<HTMLHeadingElement>) => (\n    <Article.Heading headingLevel=\"level-4\" {...props} />\n  ),\n  h6: (props: React.HTMLAttributes<HTMLHeadingElement>) => (\n    <Article.Heading headingLevel=\"level-5\" {...props} />\n  ),\n  p: Article.Paragraph,\n  a: Article.Link,\n  img: (props: ImageProps) => <Image {...props} />,\n  ol: Article.Ol,\n  ul: (props: React.HTMLAttributes<HTMLUListElement>) => {\n    if (props.className?.includes(\"contains-task-list\")) {\n      return <Article.Ul variant={\"task-list\"} {...props} />;\n    }\n    return <Article.Ul {...props} />;\n  },\n  li: (props: React.HTMLAttributes<HTMLLIElement>) => {\n    if (props.className?.includes(\"task-list-item\")) {\n      return (\n        <Article.Li\n          {...props}\n          className={cn(\"flex items-center gap-2\", props.className)}\n        />\n      );\n    }\n    return <Article.Li {...props} />;\n  },\n  input: Article.TaskCheckbox,\n};\n\nexport function getMDXComponents(components?: MDXComponents): MDXComponents {\n  return {\n    ...defaultMdxComponents,\n    ...components,\n  };\n}\n",
      "type": "registry:component",
      "target": "components/bricks/mdx-docs/mdx-components.tsx"
    },
    {
      "path": "src/registry/bricks/mdx-docs/lib/search.ts",
      "content": "import { createFromSource } from \"fumadocs-core/search/server\";\r\nimport { source } from \"@/registry/bricks/mdx-docs/lib/source\";\r\n\r\nexport function docsSearch() {\r\n  return createFromSource(source.docs);\r\n}\r\n",
      "type": "registry:lib",
      "target": "lib/bricks/mdx-docs/search.ts"
    },
    {
      "path": "src/registry/bricks/mdx-docs/lib/source.config.ts",
      "content": "import {\n  defineConfig,\n  defineDocs,\n  frontmatterSchema,\n  metaSchema,\n} from \"fumadocs-mdx/config\";\n\nexport const docs = defineDocs({\n  dir: \"content/docs\",\n  docs: {\n    schema: frontmatterSchema,\n  },\n  meta: {\n    schema: metaSchema,\n  },\n});\n\nexport default defineConfig({\n  mdxOptions: {\n    // MDX options\n  },\n});\n",
      "type": "registry:lib",
      "target": "lib/bricks/mdx-docs/source.config.ts"
    },
    {
      "path": "src/registry/bricks/mdx-docs/lib/source.ts",
      "content": "import { loader } from \"fumadocs-core/source\";\nimport { lucideIconsPlugin } from \"fumadocs-core/source/lucide-icons\";\nimport { docs } from \"@/.source/server\";\n\nexport const source = {\n  docs: loader({\n    baseUrl: \"/docs\",\n    source: docs.toFumadocsSource(),\n    plugins: [lucideIconsPlugin()],\n  }),\n};\n",
      "type": "registry:lib",
      "target": "lib/bricks/mdx-docs/source.ts"
    }
  ]
}