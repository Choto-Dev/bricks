{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "product",
  "type": "registry:component",
  "title": "Product",
  "description": "A component to build product page",
  "files": [
    {
      "path": "src/registry/bricks/components/product.tsx",
      "content": "\"use client\";\n\nimport Image from \"next/image\";\nimport React from \"react\";\n\ntype TMedia = {\n  id: string;\n  type: \"image\" | \"video\";\n  src: string;\n  alt?: string;\n};\ntype TVariantOption = {\n  name: string;\n  values: string[];\n  position: number;\n};\ntype TProduct = {\n  id: string;\n  name: string;\n  slug: string;\n  price: number;\n  discount?: number;\n  details?: string;\n  featuredMedia?: TMedia;\n  media?: TMedia[];\n  variantOptions?: TVariantOption;\n  defaultVariant?: string;\n  variants?: {\n    id: string;\n    price: number;\n    discount?: number;\n    featuredImage?: TMedia;\n  };\n};\n\ntype TProductContext = {\n  product: TProduct;\n  image?: TMedia;\n  setImage: React.Dispatch<React.SetStateAction<TMedia | undefined>>;\n} | null;\nconst ProductContext = React.createContext<TProductContext>(null);\nfunction useProductContext() {\n  return React.use(ProductContext);\n}\n\ntype ProductRootProps = {\n  product: TProduct;\n  children: React.ReactNode;\n};\nfunction ProductRoot({ children, product }: ProductRootProps) {\n  const [image, setImage] = React.useState(product.featuredMedia);\n\n  return (\n    <ProductContext value={{ product, image, setImage }}>\n      {children}\n    </ProductContext>\n  );\n}\n\nfunction ProductName() {\n  const productCtx = useProductContext();\n\n  if (!productCtx) {\n    throw new Error(\"`Product.Name` should be in `Product.Root`.\");\n  }\n\n  return productCtx.product.name;\n}\n\nfunction ProductPrice() {\n  const productCtx = useProductContext();\n\n  if (!productCtx) {\n    throw new Error(\"`Product.Price` should be in `Product.Root`.\");\n  }\n\n  return productCtx.product.price;\n}\n\nfunction ProductDetails() {\n  const productCtx = useProductContext();\n\n  if (!productCtx) {\n    throw new Error(\"`Product.Details` should be in `Product.Root`.\");\n  }\n\n  return productCtx.product.details;\n}\n\nfunction ProductImage({ className }: { className: string }) {\n  const productCtx = useProductContext();\n\n  if (!productCtx) {\n    throw new Error(\"`Product.Image` should be in `Product.Root`.\");\n  }\n\n  if (!productCtx.image) {\n    return <Image src={\"\"} alt=\"\" width={1000} height={1000} />;\n  }\n\n  return (\n    <Image\n      src={productCtx.image.src}\n      alt={`Image of ${productCtx.product.name}.`}\n      width={1000}\n      height={1000}\n      className={className}\n    />\n  );\n}\n\nfunction ProductGallery() {\n  const productCtx = useProductContext();\n\n  if (!productCtx) {\n    throw new Error(\"`Product.Gallery` should be in `Product.Root`.\");\n  }\n\n  if (!productCtx.product.media) {\n    return null;\n  }\n\n  return (\n    <>\n      {productCtx.product.media.map((image) => (\n        <Image\n          key={image.id}\n          src={image.src}\n          alt={`Image of ${productCtx.product.name}.`}\n          width={1000}\n          height={1000}\n        />\n      ))}\n    </>\n  );\n}\n\nexport {\n  type TProduct,\n  ProductRoot,\n  ProductRoot as Root,\n  ProductName as Name,\n  ProductPrice as Price,\n  ProductDetails as Details,\n  ProductImage as Image,\n  ProductGallery as Gallery,\n};\n",
      "type": "registry:component",
      "target": "components/bricks/product.tsx"
    }
  ]
}